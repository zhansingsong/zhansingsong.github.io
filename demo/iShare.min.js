(function(a,b){if(typeof define==="function"&&define.amd){define([],b(a))}else{if(typeof exports==="object"){module.exports=b(a)}else{a.iShare=b(a)}}})(typeof global!=="undefined"?global:this.window||this.global,function(a){var d={event:{addEvent:function(e,g,f){if(e.addEventListener){e.addEventListener(g,f,false)}else{if(e.attachEvent){e.attachEvent("on"+g,f)}else{e["on"+g]=f}}},removeEvent:function(e,g,f){if(e.removeEventListener){e.removeEventListener(g,f,false)}else{if(e.detachEvent){e.detachEvent("on"+g,f)}else{e["on"+g]=null}}},stopPropagation:function(e){if(e.stopPropagation){e.stopPropagation()}else{e.cancelBubble=true}}},trim:function(e){if(String.prototype.trim){return e.trim()}return e.replace(/^\s+|s+$/g,"")},keys:function(g){if(g!==Object(g)){throw new TypeError("o is non-object")}if(Object.keys){return Object.keys(g)}var e=[],f;for(f in g){if(Object.prototype.hasOwnProperty.call(g,f)){e.push(f)}}return e},indexOf:function(f,h){if(!this.isArray(f)){throw new Error(f.toString()+" is a non-Array！")}if(Array.prototype.indexOf){return f.indexOf(h)}for(var g=0,e=f.length;g<e;g++){if(f[g]===h){return g}}},isArray:function(e){if(Array.isArray){return Array.isArray(e)}return Object.prototype.toString.call(e)==="[object Array]"},validate:function(j,k){var g,f=[];if(this.isArray(k)){for(var e=0,h;h=k[e++];){if(this.indexOf(j,h)<0){f.push(h)}}}else{for(g in k){if(!(g in j)){f.push(g)}}}if(f.length!==0){throw new Error("there is such no property: "+f.join(", "))}},getElementTop:function(e){var g=e.offsetTop,f=e.offsetParent;while(f!==null){g+=f.offsetTop;f=f.offsetParent}return g},getElementLeft:function(e){var g=e.offsetLeft,f=e.offsetParent;while(f!==null){g+=f.offsetLeft;f=f.offsetParent}return g},handleParameters:function(e){var g="";for(var f in e){g=g+f+"="+encodeURIComponent(e[f])+"&"}return g},extend:function(){var e,g,f={};for(e=0;e<arguments.length;e++){for(g in arguments[e]){if(arguments[e].hasOwnProperty(g)){f[g]=arguments[e][g]}}}return f},each:function(h,j){if(!h){return}var g;for(var f=0,e=h.length;f<e;f++){g=j.call(h[f],f,h[f])}return g},getElementByclassN:function(j){if(!j){return}var i=[];if(document.querySelectorAll){i=document.querySelectorAll(j);if(i.length>0){return i}}var h=j.split("."),e=h[0]||"*",g=h[1],l=document.body.getElementsByTagName(e),k,f;this.each(l,function(m,n){if(n.nodeType===1){k=n.className.split(/\s+/g);f=n;this.each(k,function(o,p){if((p+"")===g){i.push(f)}})}});return i},getmeta:function(e){var h=document.getElementsByTagName("meta");for(var g=0,f;f=h[g++];){if(f.getAttribute("name").toLowerCase()===e){return f.content}}},getimg:function(){var e=this.convertToArray(document.body.getElementsByTagName("img"));if(e.length===0){return}return encodeURIComponent(e[0].src)},parseUrl:function(g,h){var f={};for(var e in g){f[e]=g[e].replace(/{{([A-Z]*)}}/g,function(i,k){var j=k.toLowerCase();if(h[j]){return encodeURIComponent(h[j])}else{return""}})}return f},isWeixinBrowser:function(){var e=navigator.userAgent.toLowerCase();return(/micromessenger/.test(e))?true:false},convertToArray:function(f){var j=null;try{j=Array.prototype.slice.call(f,0)}catch(h){j=new Array();for(var g=0,e=f.length;g<e;g++){j.push(f[g])}}return j},parseClassName:function(j,f){var h=null;var e=j.split(/\s+/);for(var g=0,k;k=e[g++];){if(k in f){return f[k]}}},getWinDimension:function(){var f=window.innerWidth,e=window.innerHeight;if(typeof f!=="number"){if(document.compatMode==="CSS1Compat"){f=document.documentElement.clientWidth;e=document.documentElement.clientHeight}else{f=document.body.clientWidth;e=document.body.clientHeight}}return{pageWidth:f,pageHeight:e}},throttle:function(f,e){var g=null;return function(){var i=this,h=arguments;clearTimeout(g);g=setTimeout(function(){f.apply(i,h)},e)}}};function c(g,e,f){this.element=g;this.wxbox=document.createElement("div");this.URL=e;this.style=f.style;this.bgcolor=f.bgcolor||"#2BAD13";this.evenType=f.evenType||"mouseover";this.isTitleVisibility=(f.isTitleVisibility===void (0))?true:f.isTitleVisibility;this.title=f.title||"分享到微信";this.isTipVisibility=(f.isTipVisibility===void (0))?true:f.isTipVisibility;this.tip=f.tip||"打开微信，使用 “扫一扫” 即可将网页分享到朋友圈。";this.upDownFlag=""}c.prototype=function(){return{constructor:c,init:function(){this.render();this.init=this.show;this.bindEvent()},render:function(){var l="",j="",g=(!this.isTitleVisibility||!this.isTipVisibility)?"width: 110px;":"width : 150px;",s="",r="",k="",h=this.bgcolor?this.bgcolor:"#ddd",e="";if(d.getWinDimension().pageHeight/2<d.getElementTop(this.element)){j="display:none;";l="";this.upDownFlag="up";e="border-top-left-radius: 0;"}else{j="";l="display:none;";this.upDownFlag="down";e="border-bottom-left-radius: 0;"}var o='<div style="'+g+"text-align: center;background-color: "+h+";box-shadow: 1px 1px 4px #888888;padding: 8px 8px 4px;border-radius: 4px;"+e+'">',f=this.isTitleVisibility?'<p class="tt" style="line-height: 30px;margin:0; text-shadow: 1px 1px rgba(0,0,0,0.1);font-weight: 700;margin-bottom: 4px;'+r+'">'+this.title+"</p>":"",m='<img  style="font-size: 12px;line-height: 20px; -webkit-user-select: none;box-shadow: 1px 1px 2px rgba(0,0,0,0.4); '+s+'" src="'+this.URL+'">',q=this.isTipVisibility?'<p style="font-size: 12px;line-height: 20px; margin: 4px 0;'+k+'">'+this.tip+"</p>":"",i='<div style="'+l+"position: relative;height: 0;width: 0;border-style: solid;border-width: 12px;border-color: transparent;border-bottom-color: "+h+';"></div>',n='</div><div style="'+j+"position: relative;height: 0;width: 0;border-style: solid;border-width: 12px;border-color: transparent;border-top-color: "+h+';"></div>';var p=i+o+f+m+q+n;this.wxbox.innerHTML=p;this.wxbox.style.cssText="position:absolute; left: -99999px;";document.body.appendChild(this.wxbox)},setLocation:function(f){var h=this.wxbox.offsetWidth,l=this.wxbox.offsetHeight,k=this.element.offsetWidth,g=this.element.offsetHeight,j=d.getElementTop(this.element),e=d.getElementLeft(this.element),i="position:absolute; color: #000;z-index: -1;";i=i+"left: "+(k/2-12+e)+"px;";if(this.upDownFlag==="down"){i=i+"top: "+(j-l+8)+"px;"}else{i=i+"top: "+(j+(g-8))+"px;"}this.wxbox.style.cssText=i+this.style;f&&(this.hide())},bindEvent:function(){var e=this;if(this.evenType==="click"){d.event.addEvent(this.element,"click",function(g){var f=g||window.event;d.event.stopPropagation(f);if(e.getflag()==="none"){e.show()}else{e.hide()}})}else{d.event.addEvent(this.element,"mouseover",function(g){var f=g||window.event;d.event.stopPropagation(f);e.show()});d.event.addEvent(this.element,"mouseout",function(g){var f=g||window.event;d.event.stopPropagation(f);e.hide()})}d.event.addEvent(window,"resize",d.throttle(function(){e.setLocation()},200))},show:function(){this.wxbox.style.display="block"},hide:function(){this.wxbox.style.display="none"},getflag:function(){return this.wxbox.style.display}}}();function b(){this.container=d.getElementByclassN("div.iShare")[0];var f={title:document.title,url:location.href,host:location.origin||"",description:d.getmeta("description"),image:d.getimg(),sites:["iShare_weibo","iShare_qq","iShare_wechat","iShare_tencent","iShare_douban","iShare_qzone","iShare_renren","iShare_youdaonote","iShare_facebook","iShare_linkedin","iShare_twitter","iShare_googleplus","iShare_tumblr","iShare_pinterest"],initialized:true,isTitle:false,isAbroad:false,WXoptions:{}},g=this.container.getAttribute("data-sites"),e=g?g.split(/\s*,\s*/g):[];d.validate(f.sites,e);d.validate(f,iShare_config);d.validate(f.sites,iShare_config.sites);this.wx=null;this.defaults=f;this.dataSites=g?{sites:e}:{};this.config=window.iShare_config||{};if((this.config.isAbroad===void (0))){this.config.sites=this.defaults.sites}else{if(this.config.isAbroad){this.config.sites=f.sites.slice(8)}else{this.config.sites=f.sites.slice(0,8)}}if(d.isWeixinBrowser()){this.defaults.splice(this.defaults.indexOf("iShare_wechat"),1);this.dataSites.splice(this.dataSites.indexOf("iShare_wechat"),1);this.config.splice(this.config.indexOf("iShare_wechat"),1)}this.settings=d.extend(f,this.config,this.dataSites);this.init()}b.prototype=(function(){var h={iShare_qq:"http://connect.qq.com/widget/shareqq/index.html?url={{URL}}&title={{TITLE}}&desc={{DESCRIPTION}}&summary=&pics={{IMAGE}}",iShare_qzone:"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url={{URL}}&title={{TITLE}}&summary={{DESCRIPTION}}&pics={{IMAGE}}&desc=&site=",iShare_tencent:"http://share.v.t.qq.com/index.php?c=share&a=index&title={{TITLE}}&url={{URL}}&pic={{IMAGE}}",iShare_weibo:"http://service.weibo.com/share/share.php?url={{URL}}&title={{TITLE}}&pic={{IMAGE}}",iShare_wechat:"http://s.jiathis.com/qrcode.php?url={{URL}}",iShare_douban:"http://shuo.douban.com/!service/share?href={{URL}}&name={{TITLE}}&text={{DESCRIPTION}}&image={{IMAGE}}",iShare_renren:"http://widget.renren.com/dialog/share?resourceUrl={{URL}}&title={{TITLE}}&pic={{IMAGE}}&description={{DESCRIPTION}}",iShare_youdaonote:"http://note.youdao.com/memory/?title={{TITLE}}&pic={{IMAGE}}&summary={{DESCRIPTION}}&url={{URL}}",iShare_linkedin:"http://www.linkedin.com/shareArticle?mini=true&ro=true&title={{TITLE}}&url={{URL}}&summary={{DESCRIPTION}}&armin=armin",iShare_facebook:"https://www.facebook.com/sharer/sharer.php?s=100&p[title]={{TITLE}}p[summary]={{DESCRIPTION}}&p[url]={{URL}}&p[images]={{IMAGE}}",iShare_twitter:"https://twitter.com/intent/tweet?text={{TITLE}}&url={{URL}}",iShare_googleplus:"https://plus.google.com/share?url={{URL}}&t={{TITLE}}",iShare_pinterest:"https://www.pinterest.com/pin/create/button/?url={{URL}}&description={{DESCRIPTION}}&media={{IMAGE}}",iShare_tumblr:"https://www.tumblr.com/widgets/share/tool?shareSource=legacy&canonicalUrl=&url={{URL}}&title={{TITLE}}"},g={iShare_qq:"QQ好友",iShare_qzone:"QQ空间",iShare_tencent:"腾讯微博",iShare_weibo:"新浪微博",iShare_wechat:"微信",iShare_douban:"豆瓣",iShare_renren:"人人",iShare_youdaonote:"有道笔记",iShare_linkedin:"Linkedin",iShare_facebook:"Facebook",iShare_twitter:"Twitter",iShare_googleplus:"Google+",iShare_pinterest:"Pinterest",iShare_tumblr:"Tumblr"},j={iShare_qq:'<i class="iconfont qq">&#xe60f;</i>',iShare_qzone:'<i class="iconfont qzone">&#xe610;</i>',iShare_tencent:'<i class="iconfont tencent" style="vertical-align: -2px;">&#xe608;</i>',iShare_weibo:'<i class="iconfont weibo">&#xe609;</i>',iShare_wechat:'<i class="iconfont wechat" style="vertical-align: -2px;">&#xe613;</i>',iShare_douban:'<i class="iconfont douban" style="vertical-align: -2px;">&#xe612;</i>',iShare_renren:'<i class="iconfont renren">&#xe603;</i>',iShare_youdaonote:'<i class="iconfont youdaonote" style="vertical-align: -2px;">&#xe604;</i>',iShare_linkedin:'<i class="iconfont linkedin" style="vertical-align: 1px;">&#xe607;</i>',iShare_facebook:'<i class="iconfont facebook" style="vertical-align: 1px;">&#xe601;</i>',iShare_twitter:'<i class="iconfont twitter" style="vertical-align: 1px;">&#xe60a;</i>',iShare_googleplus:'<i class="iconfont googleplus" style="vertical-align: -2px;">&#xe60b;</i>',iShare_pinterest:'<i class="iconfont pinterest" style="vertical-align: -2px;">&#xe60c;</i>',iShare_tumblr:'<i class="iconfont tumblr" style="vertical-align: 1px;">&#xe600;</i>'};function i(){if(!this.container.hasChildNodes()){return}var m=this.container.childNodes,l;for(var k=0,n;n=m[k++];){if(n.nodeType===1){l=d.parseClassName(n.className,d.parseUrl(h,this.settings));if(l){if((n.className).indexOf("iShare_wechat")>-1){this.wx=new c(n,l,this.settings.WXoptions)}else{n.href=l;n.target="_blank"}}}}}function f(l,n,m){var k=document.createElement("a");k.innerHTML=j[n];if(this.settings.isTitle){k.title=g[n]}if(m){this.wx=new c(k,l,this.settings.WXoptions);k.href="javascript:void(0);"}else{k.href=l;k.target="_blank"}return k}function e(){var m=document.createDocumentFragment(),n=d.parseUrl(h,this.settings),l,k=this;d.each(k.settings.sites,function(o,p){if(p==="iShare_wechat"){l=f.call(k,n[p],p,true)}else{l=f.call(k,n[p],p)}m.appendChild(l)});this.container.innerHTML="";this.container.appendChild(m)}return{constructor:b,init:function(){if(this.settings.initialized){e.call(this)}else{i.call(this)}if(this.wx){this.bindEvent();this.wx.init()}},bindEvent:function(){var l=this;function k(){l.wx.setLocation(true);d.event.removeEvent(l.container,"mouseover",k)}d.event.addEvent(this.container,"mouseover",k)}}})();return(new b())});